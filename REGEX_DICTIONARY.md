# –°–ª–æ–≤–∞—Ä—å —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏

## –ü–∞—Ä—Å–∏–Ω–≥ —Å—É–º–º

### –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ç—Ç–µ—Ä–Ω
```regex
(?i)(?:–∏—Ç–æ–≥–æ|–æ–±—â–∞—è —Å—É–º–º–∞|–∫–æ –ø–ª–∞—Ç–µ–∂—É)[:\s]+([0-9]{1,}[.,][0-9]{2})\s*‚ÇΩ
```

### –ü—Ä–∏–º–µ—Ä—ã
- ‚úÖ `–ò–¢–û–ì–û: 1250.00 ‚ÇΩ` ‚Üí 1250.00
- ‚úÖ `–û–ë–©–ê–Ø –°–£–ú–ú–ê 590,40 ‚ÇΩ` ‚Üí 590.40
- ‚úÖ `–ö–û –ü–õ–ê–¢–ï–ñ–£:850.75‚ÇΩ` ‚Üí 850.75

---

## –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞—Ç

### –ü–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è DD.MM.YYYY
```regex
(\d{1,2})[-./](\d{1,2})[-./](\d{4})
```

### –ü—Ä–∏–º–µ—Ä—ã
- ‚úÖ `28.12.2025` ‚Üí 2025-12-28
- ‚úÖ `28/12/2025` ‚Üí 2025-12-28
- ‚úÖ `28-12-2025` ‚Üí 2025-12-28

---

## –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –º–∞–≥–∞–∑–∏–Ω–æ–≤

### –ï–¥–∞ (üçî)
| –ú–∞–≥–∞–∑–∏–Ω | Keywords |
|---------|----------|
| –ú–∞–≥–Ω–∏—Ç | –º–∞–≥–Ω–∏—Ç, magnit |
| –ü—è—Ç—ë—Ä–æ—á–∫–∞ | –ø—è—Ç—ë—Ä–æ—á–∫–∞, five, –ø—è—Ç–µ—Ä–æ—á–∫–∞ |
| –õ–µ–Ω—Ç–∞ | –ª–µ–Ω—Ç–∞, lenta |
| Metro | metro |
| –û–∫–µ–π | –æ–∫–µ–π, okey |

**–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞:** –∫–æ—Ñ–µ, –∫–∞—Ñ–µ, —Ä–µ—Å—Ç–æ—Ä–∞–Ω, –º–æ–ª–æ–∫–æ, —Ö–ª–µ–±, —è–π—Ü–∞

### –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç (üöó)
| –ú–∞–≥–∞–∑–∏–Ω | Keywords |
|---------|----------|
| –õ—É–∫–æ–π–ª | –ª—É–∫–æ–π–ª, lukoil |
| –ì–∞–∑–ø—Ä–æ–º–Ω–µ—Ñ—Ç—å | –≥–∞–∑–ø—Ä–æ–º–Ω–µ—Ñ—Ç—å, gazpromneft |
| –†–æ—Å–Ω–µ—Ñ—Ç—å | —Ä–æ—Å–Ω–µ—Ñ—Ç—å, rosneft |

**–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞:** –±–µ–Ω–∑–∏–Ω, –∑–∞–ø—Ä–∞–≤–∫–∞, –∞–∑—Å, —Ç–æ–ø–ª–∏–≤–æ, –º–∞—Å–ª–æ

### –î–æ–º (üè†)
| –ú–∞–≥–∞–∑–∏–Ω | Keywords |
|---------|----------|
| –ò–∫–µ–∞ | –∏–∫–µ–∞, ikea |
| Leroy Merlin | leroy merlin, –ª–µ—Ä–æ–π –º–µ—Ä–ª–µ–Ω |

**–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞:** —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ, –∫—Ä–∞—Å–∫–∞, —Å—Ç—Ä–æ–π–º–∞—Ç–µ—Ä–∏–∞–ª—ã, –º–µ–±–µ–ª—å

### –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è (üé¨)
**–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞:** –∫–∏–Ω–æ, —Ç–µ–∞—Ç—Ä, –±–∏–ª–µ—Ç, –∏–≥—Ä—ã, —Ñ–∏–ª—å–º, –∫–æ–Ω—Ü–µ—Ä—Ç

### –ñ–ö–• (‚ö°)
**–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞:** —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ, –≤–æ–¥–∞, –≥–∞–∑, –∫–≤–∞—Ä—Ç–∏—Ä–∞

### –ó–¥–æ—Ä–æ–≤—å–µ (üè•)
**–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞:** –∞–ø—Ç–µ–∫–∞, –≤—Ä–∞—á, –ª–µ–∫–∞—Ä—Å—Ç–≤–æ, –º–µ–¥–∏—Ü–∏–Ω–∞, –±–æ–ª—å–Ω–∏—Ü–∞

### –î–æ—Ö–æ–¥ (üí∞)
**–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞:** –∑–∞—Ä–ø–ª–∞—Ç–∞, –ø—Ä–µ–º–∏—è, –±–æ–Ω—É—Å, –¥–æ—Ö–æ–¥

---

## –ê–ª–≥–æ—Ä–∏—Ç–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
1. **–¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞** (–µ—Å–ª–∏ –∏–∑–≤–µ—Å—Ç–Ω—ã–π)
2. **–ü–æ–∏—Å–∫ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –≤ —Ç–µ–∫—Å—Ç–µ** (–ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º)
3. **Fallback**: –ö–∞—Ç–µ–≥–æ—Ä–∏—è "–ü—Ä–æ—á–µ–µ"

### –ü—Ä–∏–º–µ—Ä:
```
–¢–µ–∫—Å—Ç —á–µ–∫–∞: "–õ–£–ö–û–ô–õ, –±–µ–Ω–∑–∏–Ω 92, 2000.00 ‚ÇΩ"
1. –ü—Ä–æ–≤–µ—Ä—è–µ–º "–ª—É–∫–æ–π–ª" ‚Üí –ù–∞–π–¥–µ–Ω–æ –≤ –¢–†–ê–ù–°–ü–û–†–¢ ‚Üí ‚úì –†–µ–∑—É–ª—å—Ç–∞—Ç: –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç
```

---

## –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### –°—É–º–º–∞
- ‚úÖ –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —á–∏—Å–ª–æ —Å 2 –∑–Ω–∞–∫–∞–º–∏ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π
- ‚úÖ –ú–æ–∂–µ—Ç –±—ã—Ç—å —Ü–µ–ª—ã–º —á–∏—Å–ª–æ–º (–ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ X.00)
- ‚úÖ –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –¥—Ä–æ–±–Ω–æ–π —á–∞—Å—Ç–∏: —Ç–æ—á–∫–∞ –∏–ª–∏ –∑–∞–ø—è—Ç–∞—è

### –î–∞—Ç–∞
- ‚úÖ –§–æ—Ä–º–∞—Ç: DD.MM.YYYY
- ‚úÖ –ò–Ω—Ç–µ—Ä–≤–∞–ª: 01.01.1900 - —Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞

### –ú–∞–≥–∞–∑–∏–Ω
- ‚úÖ –ú–∏–Ω–∏–º—É–º 3 —Å–∏–º–≤–æ–ª–∞
- ‚úÖ –ò–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã

---

## –ü—Ä–∏–º–µ—Ä—ã —Ä–µ–∞–ª—å–Ω—ã—Ö —á–µ–∫–æ–≤

### –ß–µ–∫ –ú–∞–≥–Ω–∏—Ç–∞
```
–ú–ê–ì–ù–ò–¢
—É–ª. –ü—É—à–∫–∏–Ω–∞, –¥. 10
–ö–∞—Å—Å–∏—Ä: –ò–≤–∞–Ω

–•–ª–µ–± —á–µ—Ä–Ω—ã–π           89.90
–ú–æ–ª–æ–∫–æ –∫–æ—Ä–æ–≤—å–µ      120.50
–Ø–π—Ü–∞ (10 —à—Ç)         95.00
–ú–∞—Å–ª–æ —Å–ª–∏–≤–æ—á–Ω–æ–µ 200–≥ 285.00

             –ò–¢–û–ì–û:  590.40

–î–∞—Ç–∞: 28.12.2025 14:23:45
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞:**
- –°—É–º–º–∞: 590.40
- –ú–∞–≥–∞–∑–∏–Ω: –ú–∞–≥–Ω–∏—Ç
- –ö–∞—Ç–µ–≥–æ—Ä–∏—è: –ï–¥–∞
- –î–∞—Ç–∞: 28.12.2025

### –ß–µ–∫ –õ—É–∫–æ–π–ª–∞
```
–ê–ó–° "–õ–£–ö–û–ô–õ"
–ë–µ–Ω–∑–∏–Ω –ê–ò-92     45–ª √ó 53.50 = 2407.50
–ú–∞—Å–ª–æ –º–æ—Ç–æ—Ä–Ω–æ–µ     1 √ó 850.00 = 850.00

–û–ë–©–ê–Ø –°–£–ú–ú–ê:              3257.50 ‚ÇΩ

28/12/2025 15:30
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞:**
- –°—É–º–º–∞: 3257.50
- –ú–∞–≥–∞–∑–∏–Ω: –õ—É–∫–æ–π–ª
- –ö–∞—Ç–µ–≥–æ—Ä–∏—è: –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç
- –î–∞—Ç–∞: 28.12.2025

---

## –û–±—Ä–∞–±–æ—Ç–∫–∞ edge-cases

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–ª–æ—Ö–æ–π OCR
```
–ü–æ–ª—É—á–µ–Ω–æ: "–ú–ê–ì–ù–ò–¢ –ò–¢–û–ì–û: 1250,00—Ä"
–ù–æ—Ä–º–∞: –°—É–º–º–∞ –±–µ–∑ —Å–∏–º–≤–æ–ª–∞ ‚ÇΩ, –∑–∞–ø—è—Ç–∞—è –≤–º–µ—Å—Ç–æ —Ç–æ—á–∫–∏
–†–µ—à–µ–Ω–∏–µ: –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è (–∑–∞–º–µ–Ω—è–µ–º –∑–∞–ø—è—Ç—É—é –Ω–∞ —Ç–æ—á–∫—É)
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω
```
–ü–æ–ª—É—á–µ–Ω–æ: "–û–û–û –ú–ê–õ–ï–ù–¨–ö–ò–ô –ú–ê–ì–ê–ó–ò–ù–ß–ò–ö"
–†–µ—à–µ–Ω–∏–µ: –ë–µ—Ä—ë–º –ø–µ—Ä–≤—É—é –Ω–µ–ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É –∫–∞–∫ –Ω–∞–∑–≤–∞–Ω–∏–µ
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –¥–∞—Ç–∞
```
–ü–æ–ª—É—á–µ–Ω–∏–µ: –ß–µ–∫ –±–µ–∑ –¥–∞—Ç—ã
–†–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É –∫–∞–∫ fallback
```

---

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å–ª–æ–≤–∞—Ä—è

–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ:

**–§–∞–π–ª:** `shared/src/commonMain/kotlin/com/checktracker/domain/parser/ReceiptParser.kt`

```kotlin
private val merchantCategoryMap = mapOf(
    // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π –º–∞–≥–∞–∑–∏–Ω:
    "–º–∞–≥–∞–∑–∏–Ω-–Ω–∞–∑–≤–∞–Ω–∏–µ" to ExpenseCategory.FOOD,
    // ...
)
```

–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞:

```kotlin
enum class ExpenseCategory(...) {
    FOOD(..., listOf("–∫–æ—Ñ–µ", "–∫–∞—Ñ–µ", "–ù–û–í–û–ï_–°–õ–û–í–û")),
    // ...
}
```

---

**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 28.12.2025
